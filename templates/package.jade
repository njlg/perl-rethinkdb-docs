
extends layout

block append vars
  - bodyclass = 'article-detail'

block prepend title
  | #{ page.title + " - "}

block content
  nav.sidebar.affix(role='complementary')
    !=contents.toc[page.filepath.relative].headers
    //- each header in contents.toc[page.filepath.relative].html
      
    !=page.filepath.relative.replace('index.md', 'toc.md')
    //- for page in Object.keys(contents)
    //-   p= page
    //- !=contents['packages']['rethinkdb']['toc.md'].html

  article.article(role='main')
    section.content!= typogr(page.html).typogrify()

block prepend footer
  div.nav
    a(href=contents.index.url) « Back
    a(href='#content' id='top') ↑ Top

block scripts
  script.
    $(window).scroll(function() {
      $(window).scrollTop() < 100 ? $('#top').fadeOut('slow') : $('#top').fadeIn('slow');
    });
    $('body').scrollspy({ target: 'nav' })
